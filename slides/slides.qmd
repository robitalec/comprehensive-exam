---
title: "Comprehensive exam"
date: "2023-04-17"
author:
  - name: Alec L. Robitaille
    affiliations:
      - name: "Memorial University of Newfoundland and Labrador"
format:
  revealjs: 
    theme: [dark, custom.scss]
date-format: iso
---



## <!-- Question --> {.center} 


```{r}
#| echo: false
#| include: false
source('R/packages.R')
```

### In the context of frequency-dependent producer-scrounger dynamics, how would one's role affect access to available resources considering risks and conditions during habitat selection?

## <!-- Question, color --> {.center} 

### <span style="color: #42727c">In the context of </span><span style="color: #9d7195">frequency-dependent producer-scrounger dynamics</span><span style="color: #42727c">, how would one's </span><span style="color: #9d7195">role</span><span style="color: #42727c"> affect </span><span style="color: #AD8F89">access</span><span style="color: #42727c"> to </span><span style="color: #AD8F89">available resources</span><span style="color: #42727c"> considering </span><span style="color: #959D71">risks and conditions</span><span style="color: #42727c"> during </span><span style="color: #959D71">habitat selection</span><span style="color: #42727c">?</span>

## <!-- Flowchart --> {.center} 

```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#e1e1e1", style = filled, color = "#3f6f7a", fillcolor = "#3f6f7a", penwidth = 4]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources []
	Conditions []
	Risks []

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```



## <!-- Producer-scrounger roles --> {.center} 

:::: {.columns}

::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources
	Conditions
	Risks

    Roles [color = "#9d7195", fontcolor = "#e1e1e1", fillcolor = "#9d7195"]
	ps_dyn [label = "Producer-scrounger\ndynamics", color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]
	access_avail [label = "Availability\nand\naccess", shape = ellipse]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}
<br>
<br>

Producers

Scroungers

(Opportunists)

:::

::::



## <!-- Producer-scrounger video --> 


{{< video https://www.youtube.com/embed/B1h1mDgSjOc width="100%" height="85%"  >}}


## <!-- Frequency, payoffs, penalties --> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources
	Conditions
	Risks

    Roles 
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence", color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	patch_penalties [label = "Patch penalties", color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	patch_payoffs [label = "Patch payoffs", color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	access_avail [label = "Availability\nand\naccess", shape = ellipse]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}
<br>

<br>

Frequency dependence

Payoffs

Penalties

:::

::::



<!-- 
examples of frequency dependence, payoffs, penalties

--> 

## <!-- Objective 1 --> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources
	Conditions
	Risks

    Roles [color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}
<br>

### Objective 1: 

Access to resources

depending on role
:::

::::

## <!-- Access - role --> {.center} 

:::: {.columns}
::: {.column width="40%"}
Producers

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 5
tar_load(landscape_long)

# Producer ----------------------------------------------------------------
DT_id <- CJ(id = c('A'), pr_id = c('C', 'D', 'E'), obs = seq.int(1))
DT_id[, c('x', 'y') := .(c(-1, 0.2, 1), c(1, -0.5, 0.4))]

DT_ed <- CJ(id = 'A', obs = seq.int(1), rdm = seq.int(10))

DT_pt <- CJ(id = 'A', obs = seq.int(1))
DT_pt[, c('x', 'y') := .(0, 0)]

DT_pt_rdm <- DT_ed[DT_pt, on = .(id, obs)]
DT_pt_rdm[, c('x_rdm', 'y_rdm') := .(x + rnorm(.N, sd = 0.5), y + rnorm(.N, sd = 0.5))]


# Scrounger -------------------------------------------------------------
DT_id <- CJ(id = c('A'), pr_id = c('C', 'D', 'E'), obs = seq.int(1))
DT_id[, c('x', 'y') := .(c(-1, 0.2, 1), c(1, -0.5, 0.4))]


DT_sc <- CJ(id = c('A'), obs = seq.int(1))
DT_sc[, c('x', 'y') := .(0, 0)]

mDTsc <- DT_sc[DT_id, on = 'id']


ggplot(landscape_long,
		aes(rescale(x, c(-1.2, 1.2)),
			rescale(y, c(-1.2, 1.2)))) +
	geom_tile(aes(fill = clumps), alpha = 0.6) +
	geom_point(aes(x_rdm, y_rdm), size = 2, data = DT_pt_rdm) +
	geom_point(aes(i.x, i.y), size = 5, shape = 15, data = mDTsc) +
	geom_segment(aes(x = x, y = y, xend = x_rdm, yend = y_rdm),
				 size = 1, 
				 arrow = arrow(length = unit(0.1, 'inches')),
				 data = DT_pt_rdm,
				 color = 'grey40') +
	geom_point(aes(x, y), size = 5, data = DT_pt_rdm, shape = 15) +
	coord_equal() +
	guides(fill = 'none') +
	theme_void() + 
	theme(plot.background = element_rect(fill = "#134f5c",colour = "#134f5c"),
		  panel.background = element_rect(fill = "#134f5c",colour = "#134f5c")) +
	scale_fill_scico(palette = 'acton', begin = 0.5, end = 0.9)
```
:::
 
::: {.column width="10%"}
:::
 
::: {.column width="40%"}
Scroungers

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 5
ggplot(landscape_long,
			 aes(rescale(x, c(-1.2, 1.2)),
			 		rescale(y, c(-1.2, 1.2)))) +
	geom_tile(aes(fill = clumps), alpha = 0.6) +
	coord_equal() +
	geom_point(aes(i.x, i.y), size = 5, shape = 15, data = mDTsc) +
	geom_point(aes(x, y), size = 5, data = mDTsc, shape = 15) +
	geom_segment(aes(x = x, y = y, xend = i.x, yend = i.y),
				 size = 1, 
				 arrow = arrow(length = unit(0.1, 'inches')),
				 data = mDTsc,
			     color = 'grey40') +
	guides(color = 'none', fill = 'none') +
	theme_void() + 
	theme(plot.background = element_rect(fill = "#134f5c",colour = "#134f5c"),
		  panel.background = element_rect(fill = "#134f5c",colour = "#134f5c")) +
	scale_fill_scico(palette = 'acton', begin = 0.5, end = 0.9)
```
:::

::::
 

<!-- Lead into habitats are more complex than distributed patches of forage --> 
<!-- Matt et al definition of habitat --> 


## <!-- Habitat selection --> {.center} 


:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Conditions [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Risks [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}

<br> 

<br> 

Habitats = 

Resources + 

Risks +  

Conditions
:::

::::

## <!-- Resources --> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Conditions []
	Risks []

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}
```{r}
#| fig-height: 7
ggplot(data.frame(x = c(0, 3)), aes(x)) +
  stat_function(fun = exp, geom = 'line', linewidth = 3) + 
  theme_minimal(base_size = 30) + 
  labs(x = 'Resource', y = 'Expected effect on fitness')
```

E.g. forage patch quality, density, or resting spaces

:::

::::



## <!-- Risks--> {.center} 


:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources []
	Conditions []
	Risks [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::


::: {.column width="45%"}
```{r}
#| fig-height: 7
ggplot(data.frame(x = c(0, 3)), aes(x)) +
  stat_function(fun = function(x) 1/exp(x), geom = 'line', linewidth = 3) + 
  theme_minimal(base_size = 30) + 
  labs(x = 'Risks', y = 'Expected effect on fitness')
```

E.g. predation, anthropogenic

:::

::::


## <!--Conditions--> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources []
	Conditions [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Risks []

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}
```{r}
#| fig-height: 7
ggplot(data.frame(x = c(-3, 3)), aes(x)) +
  stat_function(fun = function(x) dnorm(scale(x)), geom = 'line', linewidth = 3) + 
  theme_minimal(base_size = 30) + 
  labs(x = 'Conditions', y = 'Expected effect on fitness')
```

E.g. temperature, humidity, salinity

:::

::::



## <!-- Objective 2 --> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Conditions [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Risks [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]

    Roles []
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::


::: {.column width="45%"}
<br>

### Objective 2: 

Access to resources

modified by

risks and conditions
:::

::::

## <!-- Table 1 - Resources -->{.center}

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Conditions []
	Risks []

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}

|                 |       |
|-----------------|-------|
| Patch quantity  | 13    |
| Patch quality	  | 8     |
| Resting spaces  | 0     |
| Nesting spaces  | 0     |

:::
::::

## <!-- Table 1 - Risks -->{.center}

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources []
	Conditions []
	Risks [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}

|                           | 		|
|---------------------------|-------|
| Predation                 | 4     |
| Risk perception   	    | 3     |
| Competition		        | 1     |
| Anthropogenic 			| 0     |
| Insects			        | 0     |
| Disease                   | 0     |

:::
::::

## <!-- Table 1 - Conditions -->{.center}

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection"]
	Resources []
	Conditions [color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Risks []

    Roles []
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]
	ps_dyn [label = "Producer-scrounger\ndynamics"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::

::: {.column width="45%"}

|             | 	  |
|-------------|-------|
| Temperature |     1 |
| Wind        |     0 |
| Pressure    |     0 |
| Snow depth  |     0 |
| Salinity    |     0 |
| Humidity    |     0 |

:::
::::


<!-- TODO

lead into future directions / recommendation to study PS with different risks, conditions 


then 

habitat selection methods integration

-->


## <!-- Access - risks --> {.center} 

<!-- where risks disproportionately affect one role -->

:::: {.columns}
::: {.column width="40%"}
Producers

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 5
ggplot(landscape_long,
		aes(rescale(x, c(-1.2, 1.2)),
			rescale(y, c(-1.2, 1.2)))) +
	geom_tile(aes(fill = clumps), alpha = 0.6) +
	geom_point(aes(x_rdm, y_rdm), size = 2, data = DT_pt_rdm) +
	geom_point(aes(i.x, i.y), size = 5, shape = 15, data = mDTsc) +
	geom_link(
		aes(
			x = x,
			y = y,
			xend = x_rdm,
			yend = y_rdm,
			alpha = stat(rev(index))
		),
		size = 5,
		data = DT_pt_rdm,
		color = 'grey20'
	) +
	geom_point(aes(x, y), size = 5, data = DT_pt_rdm, shape = 15) +
	coord_equal() +
	guides(fill = 'none', alpha = 'none') +
	theme_void() + 
	theme(plot.background = element_rect(fill = "#134f5c",colour = "#134f5c"),
		  panel.background = element_rect(fill = "#134f5c",colour = "#134f5c")) +
	scale_fill_scico(palette = 'acton', begin = 0.5, end = 0.9)
```
:::
 
::: {.column width="10%"}
:::
 
::: {.column width="40%"}
Scroungers

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 5
ggplot(landscape_long,
			 aes(rescale(x, c(-1.2, 1.2)),
			 		rescale(y, c(-1.2, 1.2)))) +
	geom_tile(aes(fill = clumps), alpha = 0.6) +
	coord_equal() +
	geom_link(
		aes(
			x = x,
			y = y,
			xend = i.x,
			yend = i.y,
			alpha = stat(rev(index))
		),
		size = 5,
		data = mDTsc,
		color = 'grey20'
	) +
	geom_point(aes(i.x, i.y), size = 5, shape = 15, data = mDTsc) +
	geom_point(aes(x, y), size = 5, shape = 15, data = mDTsc) +
	# geom_segment(aes(x = x, y = y, xend = i.x, yend = i.y),
	# 			 size = 1, 
	# 			 arrow = arrow(length = unit(0.1, 'inches')),
	# 			 data = mDTsc,
	# 		     color = 'grey40') +
	guides(color = 'none', fill = 'none') +
	theme_void() + 
	theme(plot.background = element_rect(fill = "#134f5c",colour = "#134f5c"),
		  panel.background = element_rect(fill = "#134f5c",colour = "#134f5c")) +
	scale_fill_scico(palette = 'acton', begin = 0.5, end = 0.9)
```
:::

::::
 






## <!-- Objective 3 --> {.center} 

:::: {.columns}
::: {.column width="35%"}
```{dot}
//| fig-width: 3.5
digraph habitat_and_producer {
  bgcolor = transparent;
  rankdir = TB
	node [fontsize = 42, shape = box, fontname = Helvetica, fontcolor = "#9d9d9d", style = filled, color = "#325861", fillcolor = "#325861", penwidth = 6]
	edge [penwidth = 5, color = "#9d9d9d"] 
	Habitat [label = "Habitat\nselection", color = "#959D71", fillcolor = "#959D71", fontcolor = "#e1e1e1"]
	Resources []
	Conditions []
	Risks []

    Roles []
	ps_dyn [label = "Producer-scrounger\ndynamics", color = "#9d7195", fillcolor = "#9d7195", fontcolor = "#e1e1e1"]
	freq [label = "Frequency\ndependence"]
	patch_penalties [label = "Patch penalties"]
	patch_payoffs [label = "Patch payoffs"]
	access_avail [label = "Availability\nand\naccess", shape = ellipse, fillcolor = "#AD8F89", color = "#AD8F89", fontcolor = "#e1e1e1"]

	ps_dyn -> Roles -> freq -> {patch_penalties patch_payoffs}
	{patch_penalties patch_payoffs} -> access_avail
	access_avail -> {Resources Conditions Risks} [dir = back]
	{patch_penalties} ->  Risks [color = "#707070", dir = back]
	patch_payoffs -> Resources [color = "#707070", dir = back]
	{patch_payoffs patch_penalties} -> Conditions [color = "#707070", dir = back]
	{Resources Risks Conditions} -> Habitat [dir = back]
}
```
:::

::: {.column width="10%"}

:::


::: {.column width="45%"}
<br>

### Objective 3: 

Integrate

foraging strategy

into

habitat selection
:::

::::


## Software

- quarto
- Revealjs
- data.table
- ggplot2
- targets
- NLMR
